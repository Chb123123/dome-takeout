(function(){var t={3446:function(t,s,e){"use strict";var a=e(8935),i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("router-view")],1)},o=[],n={},r=n,c=e(1001),d=(0,c.Z)(r,i,o,!1,null,null,null),l=d.exports,u=e(2809),h=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"AppContainer"},[e("div",{staticClass:"Apphead"},[e("div",{staticClass:"address",on:{click:t.gotoSubmit}},[t._v(t._s(t.address.name)+" "),e("span",{staticClass:"move"})]),e("div",{staticClass:"address",on:{click:t.gotoSubmit}},[t._v(t._s(t.address.name)+" "),e("span",{staticClass:"move"})]),e("div",{staticClass:"shopping-cart"},[e("van-icon",{attrs:{name:"cart-o"}})],1),e("div",{staticClass:"Private-letter"},[e("van-icon",{attrs:{name:"comment-o"}})],1)]),e("div",{staticClass:"submitBox",on:{click:t.gotoSubmitCom}},[e("div",{staticClass:"submit"},[e("div",{staticClass:"submitBtn"},[t._v("搜索")]),e("div",{staticClass:"photograph"},[e("van-icon",{attrs:{name:"photograph"}})],1),e("div",{staticClass:"submitSuggest"},[t._v("派乐炸鸡汉堡")])])]),e("div",{staticClass:"navbar"},[e("Navber",{attrs:{navList:t.shopNavList}})],1),t._m(0),e("div",{staticClass:"takewayBox"},[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},t._l(t.shopList,(function(t){return e("Takeaway",{key:t.id,attrs:{takeawayImg:t.image_path,takeawayTitle:t.name,score:t.rating,deliveryTime:t.order_lead_time,distance:t.distance,discount:t.supports,restaurant:t}})})),1),e("Tabbar")],1)])},p=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"Attributes"},[e("span",[t._v("智能排序")]),e("span",[t._v("配送速度")]),e("span",[t._v("距离最近")]),e("span",[t._v("销量最高")])])}],v=e(4665),m=e(6166),f=e.n(m);const _=f().create({baseURL:"https://elm.cangdu.org"});var g=_;const C=function(){return g({method:"get",url:"/v2/index_entry"})},b=function(t,s,e=0){return g({method:"get",url:"/shopping/restaurants",params:{latitude:s,longitude:t,offset:e}})};var y=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"takewayContainer",on:{click:t.getRestaurantId}},[e("div",{staticClass:"takeawayImg"},[e("img",{attrs:{src:"http://elm.cangdu.org/img/"+t.takeawayImg,alt:""}})]),e("div",{staticClass:"takeawayAbout"},[e("div",{staticClass:"takeawaytitle"},[t._v(t._s(t.takeawayTitle)+" ")]),e("div",{staticClass:"takeawayFraction"},[t._v(t._s(t.score)+"分 "),e("div",{staticClass:"delivery"},[t._v(t._s(t.distance)+" "+t._s(t.deliveryTime))])]),e("div",{staticClass:"delivery"},[t._v("起送￥15")]),t._m(0),e("div",{staticClass:"discount"},[t.discount[0]?e("div",{staticClass:"support",style:"color:#"+t.discount[0].icon_color},[t._v(t._s(t.discount[0].name))]):t._e(),t.discount[1]?e("div",{staticClass:"support",style:"color:#"+t.discount[1].icon_color},[t._v(t._s(t.discount[1].name))]):t._e(),t.discount[2]?e("div",{staticClass:"support",style:"color:#"+t.discount[2].icon_color},[t._v(t._s(t.discount[2].name))]):t._e()])])])},k=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"Evaluation"},[e("div",{staticClass:"Evaluation1"},[t._v("热情掌柜")])])}],w={props:{takeawayTitle:{},takeawayImg:{},score:{},deliveryTime:{},distance:{},discount:{},restaurant:{}},methods:{...(0,v.OI)(["getshopid"]),getRestaurantId(){this.getshopid(this.restaurant),this.$router.push("/shopInterface")}}},L=w,x=(0,c.Z)(L,y,k,!1,null,"ae473370",null),S=x.exports,A=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box"},[e("van-swipe",{staticClass:"my-swipe",attrs:{"indicator-color":"#0BB7F7"}},t._l(t.navList,(function(s){return e("van-swipe-item",{key:s.id},[e("div",{staticClass:"navbarContainer"},t._l(s,(function(s){return e("div",{key:s.id,staticClass:"nav",on:{click:function(e){return t.getNavId(s.id)}}},[e("img",{attrs:{src:"https://fuss10.elemecdn.com"+s.image_url,alt:""}}),e("span",{staticClass:"navtitle"},[t._v(t._s(s.title))])])})),0)])})),1)],1)},$=[],E={props:{navList:{}},methods:{getNavId(t){console.log(t)}}},I=E,T=(0,c.Z)(I,A,$,!1,null,"194c048a",null),Z=T.exports;const O=function(){return g({method:"get",url:"/v1/cities",params:{type:"guess"}})};var B=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("van-tabbar",{attrs:{route:"",fixed:"","z-index":"9999"}},[e("van-tabbar-item",{attrs:{icon:"home-o",to:"/"}},[t._v("首页")]),e("van-tabbar-item",{attrs:{icon:"search",dot:"",to:"/submit"}},[t._v("搜索")]),e("van-tabbar-item",{attrs:{icon:"cart-o",badge:"5",to:"/cart"}},[t._v("订单")]),e("van-tabbar-item",{attrs:{icon:"friends-o",to:"/user"}},[t._v("用户")])],1)},F=[],N={name:"tabbarStyle",data(){return{count:0}},computed:{...(0,v.rn)("shoppingCart")}},D=N,P=(0,c.Z)(D,B,F,!1,null,null,null),j=P.exports,M={components:{Takeaway:S,Tabbar:j,Navber:Z},data(){return{address:{},shopList:[],loading:!0,finished:!1,num:0,shopNavList:[]}},computed:{...(0,v.rn)(["detailedAddress","addressDetails"])},methods:{...(0,v.OI)(["newAddress"]),gotoSubmitCom(){this.$router.push("/submit")},async getTakeawayAbout(){const t=await b(this.address.longitude,this.address.latitude);this.shopList=t.data,this.loading=!1},async onLoad(){this.num+=20;const t=await b(this.address.longitude,this.address.latitude,this.num);this.shopList=[...this.shopList,...t.data],this.loading=!1},async ShopNavBar(){const t=await C();let s=[];t.data.forEach(((t,e)=>{s.push(t),(e+1)%8===0&&(this.shopNavList.push(s),s=[])}))},async getNewCity(){const t=await O();this.detailedAddress?(this.address=this.detailedAddress,this.getTakeawayAbout(this.detailedAddress.longitude,this.detailedAddress.latitude)):(this.address=t.data,this.newAddress(this.address),this.getTakeawayAbout(this.addressDetails.longitude,this.addressDetails.latitude))},gotoSubmit(){this.$router.push("/submitarea")}},created(){this.getNewCity(),this.ShopNavBar()}},G=M,z=(0,c.Z)(G,h,p,!1,null,"30248590",null),H=z.exports,R=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("h1",[t._v("未登入")]),e("Tabbar")],1)},V=[],U={components:{Tabbar:j}},W=U,Y=(0,c.Z)(W,R,V,!1,null,null,null),q=Y.exports,J=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"cartViweContainer"},[e("div",{staticClass:"cartViweHead"},[t._v("全部")]),t._l(t.orderList,(function(t){return e("Order",{key:t._id,attrs:{shoppingname:t.restaurant_name,shoppingImg:t.restaurant_image_url,orderState:t.status_bar.title,shop:t.basket.group[0][0].name}})})),e("Tabbar")],2)},K=[];const Q=function(t,s){return g({method:"get",url:"/bos/v2/users/1/orders",params:{limit:t,offset:s}})};var X=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"orderContainer"},[e("div",{staticClass:"shopping"},[e("div",{staticClass:"shoppingImg"},[e("img",{attrs:{src:"https://elm.cangdu.org/img/"+t.shoppingImg,alt:""}})]),e("div",{staticClass:"shoppingname"},[t._v(t._s(t.shoppingname))]),e("div",{staticClass:"Orderstate"},[t._v("订单超时")])]),e("div",{staticClass:"deliveryState"},[t._v("超出配送范围")]),e("div",{staticClass:"deliveryTime"},[t._v(t._s(t.deliveryTime))]),e("div",{staticClass:"shop"},[e("div",{staticClass:"firstShopImg"},[e("img",{attrs:{src:"https://elm.cangdu.org/img/"+t.shoppingImg,alt:""}})]),e("div",{staticClass:"orderAbout"},[t._v(" "+t._s(t.shop)+" ")]),t._m(0)])])},tt=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"price"},[e("div",{staticClass:"shopPrice"},[e("span",{staticClass:"priceStyle"},[t._v("¥")]),t._v(" 10")]),e("div",{staticClass:"shopCount"},[t._v("共2件")])])}],st={props:{shoppingImg:{},shoppingname:{},deliveryTime:{},orderState:{},shop:{}}},et=st,at=(0,c.Z)(et,X,tt,!1,null,"13f47e46",null),it=at.exports,ot={components:{Tabbar:j,Order:it},data(){return{orderList:[]}},methods:{async getOrderLiet(){const t=await Q(20,0);console.log(t.data),this.orderList=t.data}},created(){this.getOrderLiet()}},nt=ot,rt=(0,c.Z)(nt,J,K,!1,null,"5059693b",null),ct=rt.exports,dt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"submitContainer"},[e("div",{staticClass:"submitHead"},[e("div",{staticClass:"leftBtn",on:{click:t.back}},[e("van-icon",{attrs:{name:"arrow-left"}})],1),e("div",{staticClass:"submitInput"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.shopkeyword,expression:"shopkeyword"}],attrs:{type:"text",placeholder:"派乐堡炸鸡"},domProps:{value:t.shopkeyword},on:{input:function(s){s.target.composing||(t.shopkeyword=s.target.value)}}}),e("div",{staticClass:"submitIcon"},[e("van-icon",{attrs:{name:"search"}})],1)]),e("div",{staticClass:"submitBtn"},[t._v("搜索")])]),e("div",{staticClass:"box"},[e("div",{staticClass:"historySubmit"},[t._v("历史搜索 "),e("div",{staticClass:"remove",on:{click:t.removeHistorySubmit}},[e("van-icon",{attrs:{name:"delete-o"}})],1)]),e("div",{staticClass:"history"},t._l(t.historySubmit,(function(s,a){return e("span",{key:a},[t._v(t._s(s))])})),0),t.shopList.length>0?e("div",{staticClass:"shoppingList"},t._l(t.shopList,(function(s){return e("div",{key:s.id,staticClass:"shoppingrecommend",on:{click:function(e){return t.shopname(s.name)}}},[e("van-icon",{attrs:{name:"search"}}),e("span",[t._v(t._s(s.name))])],1)})),0):t._e()]),e("Tabbar")],1)},lt=[],ut=e(9515);const ht=function(t,s){return g({method:"get",url:"/v4/restaurants",params:{geohash:t,keyword:s}})};var pt={data(){return{shopkeyword:"",shopList:[]}},components:{Tabbar:j,[ut.Z.Component.name]:ut.Z.Component},computed:{...(0,v.rn)(["addressDetails","historySubmit"])},methods:{...(0,v.OI)(["gethistorySubmit","clearhistorySubmit"]),removeHistorySubmit(){ut.Z.confirm({title:"是否清空历史记录"}).then((()=>{this.clearhistorySubmit()})).catch((()=>{}))},shopname(t){console.log(t),this.shopkeyword="",this.shopList=[],this.gethistorySubmit(t)},back(){this.$router.back(-1)}},watch:{async shopkeyword(){if(""!==this.shopkeyword){const t=this.addressDetails.latitude+","+this.addressDetails.longitude;console.log(t);const s=await ht(t,this.shopkeyword);console.log(s),this.shopList=s.data}else this.shopList=[]}},created(){}},vt=pt,mt=(0,c.Z)(vt,dt,lt,!1,null,"77b5d3dc",null),ft=mt.exports,_t=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"addressContainer"},[e("van-nav-bar",{attrs:{title:"选择收货地址","left-text":"返回","left-arrow":"",fixed:"",border:!1},on:{"click-left":t.onClickLeft}}),e("div",{staticClass:"submitAddress"},[e("div",{staticClass:"submit"},[e("div",{staticClass:"address",on:{click:function(s){return s.stopPropagation(),t.renewAddress.apply(null,arguments)}}},[t._v(t._s(t.$store.state.addressDetails.name)),e("span",{staticClass:"move"})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"inputAddress",attrs:{type:"text",name:"",id:"",placeholder:"输入你的收货地址"},domProps:{value:t.address},on:{input:function(s){s.target.composing||(t.address=s.target.value)}}})])]),t.addressList.length>0?e("div",{staticClass:"recommendlist"},t._l(t.addressList,(function(s){return e("div",{key:s.id,staticClass:"recommend",on:{click:function(e){return t.getDetailedAddress(s)}}},[e("span",{staticClass:"title"},[t._v(t._s(s.name))]),e("span",{staticClass:"detailedAddress"},[t._v(t._s(s.address))])])})),0):t._e()],1)},gt=[];const Ct=function(t,s){return g({method:"get",url:"/v1/pois",params:{city_id:t,keyword:s,type:"search"}})};var bt={data(){return{address:"",flag:null,addressList:[]}},computed:{...(0,v.rn)(["addressDetails"])},methods:{...(0,v.OI)(["newAddress","getdetailedAddress"]),onClickLeft(){this.$router.back(-1)},renewAddress(){this.$router.push("/positioncity")},getDetailedAddress(t){this.getdetailedAddress(t),this.$router.back(-1)}},watch:{address(){this.flag&&clearTimeout(this.flag),this.flag=setTimeout((async()=>{const t=await Ct(this.$store.state.addressDetails.id,this.address);this.addressList=t.data}),500)}}},yt=bt,kt=(0,c.Z)(yt,_t,gt,!1,null,"0fc3cf59",null),wt=kt.exports,Lt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"positionCityContainer"},[e("van-nav-bar",{attrs:{title:"选择城市","left-arrow":"",fixed:""},on:{"click-left":t.onClickLeft}}),t._l(t.cityList,(function(s,a){return e("a",{key:a,staticClass:"relatedAdress",attrs:{href:"#"+a}},[t._v(" "+t._s(a)+" "),t._l(s,(function(s){return e("a",{key:s.id,staticClass:"address",attrs:{href:"javascript:;"},on:{click:function(e){return t.addressBtn(s)}}},[t._v(t._s(s.name))])}))],2)})),t._m(0)],2)},xt=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"position"},[e("span",{attrs:{id:"A"}},[t._v("S")])])}];const St=function(){return g({method:"get",url:"/v1/cities",params:{type:"group"}})};var At={data(){return{cityList:{}}},methods:{...(0,v.OI)(["newAddress"]),onClickLeft(){this.$router.back(-1)},async positionCity(){const t=await St();this.cityList=t.data},addressBtn(t){this.newAddress(t),this.$router.back(-1)}},created(){this.positionCity()}},$t=At,Et=(0,c.Z)($t,Lt,xt,!1,null,"9f84c262",null),It=Et.exports,Tt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shopinterfaceContainer"},[e("div",{staticClass:"shopBackground"},[e("img",{attrs:{src:"http://elm.cangdu.org/img/"+t.shop.image_path,alt:"暂无图片"}}),e("div",{staticClass:"back",on:{click:t.backBtn}},[e("van-icon",{attrs:{name:"arrow-left"}})],1),e("div",{staticClass:"shopAbout"},[e("div",{staticClass:"shopImg"},[e("img",{attrs:{src:"http://elm.cangdu.org/img/"+t.shop.image_path,alt:""}})]),e("div",{staticClass:"shoptitle"},[t._v(t._s(t.shop.name))]),e("div",{staticClass:"shopscore"},[e("span",{staticClass:"shopscorestyle"},[t._v(t._s(t.shop.rating)+"分")]),e("span",{staticStyle:{"margin-right":".2667rem"}},[t._v("商家配送时间为"+t._s(t.shop.order_lead_time))]),e("span",[t._v("月售"+t._s(t.shop.rating_count))])]),e("div",{staticClass:"coupon"},[e("van-icon",{staticStyle:{"font-size":".64rem","margin-right":".2667rem"},attrs:{name:"star"}}),t._v("￥4无门槛")],1),e("div",{staticClass:"delivery"},[t._v(t._s(t.shop.delivery_mode.text))]),e("div",{staticClass:"delivery"},[t._v("配送费优惠")])])]),t.showNav?e("div",{directives:[{name:"show",rawName:"v-show",value:!1===t.obtainClass,expression:"obtainClass === false"}],staticClass:"ificationFixed"},t._l(t.stopClassification,(function(s,a){return e("span",{key:s.id,class:s.spanStyle,on:{click:function(s){return t.targetBtn(a,s)}}},[t._v(t._s(s.name))])})),0):t._e(),e("div",{ref:"obtain",staticClass:"commoditys"},[e("van-tabs",{attrs:{animated:""},on:{click:t.onClick},model:{value:t.active,callback:function(s){t.active=s},expression:"active"}},[e("van-tab",{attrs:{title:"点餐"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.obtainClass,expression:"obtainClass"}],staticClass:"Classification"},t._l(t.stopClassification,(function(s,a){return e("span",{key:s.id,class:s.spanStyle,on:{click:function(s){return t.targetBtn(a,s)}}},[t._v(t._s(s.name))])})),0),e("Foods",{attrs:{foodList:t.initshop}})],1),e("van-tab",{attrs:{title:"评论"}},[e("div",{staticClass:"commentBox"},t._l(t.shoppingComment,(function(t){return e("ShopCommemt",{key:t._id,attrs:{count:t.rating_star,username:t.username,userrelease:t.rated_at,shopList:t.item_ratings,userEvaluation:t.rating_text}})})),1)])],1)],1),e("div",{staticClass:"settlement"},[e("div",{staticClass:"shoppingicon",on:{click:t.showAction}},[e("van-icon",{attrs:{name:"cart"}}),0!=t.shopCount?e("div",{staticClass:"shopCount"},[t._v(t._s(t.shopCount))]):t._e()],1),e("div",{staticClass:"settlementMoney"},[e("span",{staticClass:"total-price"},[t._v("￥"+t._s(t.sunMoney))]),e("span",{staticClass:"delivery-fee"},[t._v("预计配送费5￥")])]),t.sunMoney<=15?e("div",{staticClass:"money"},[t._v("15元起送")]):e("div",{staticClass:"goTosettlementMoney"},[t._v("去结算")])]),e("van-action-sheet",{attrs:{closeable:!1,title:"已选商品"},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[e("div",{staticClass:"content"},t._l(t.checkedFoods,(function(t){return e("CheckedFood",{key:t._id,attrs:{foodsImg:t.image_path,title:t.name,price:t.specfoods[0].price,count:t.__v}})})),1)])],1)},Zt=[];const Ot=function(t){return g({method:"get",url:"/ugc/v2/restaurants/"+t+"/ratings"})};var Bt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"commentContainer"},[e("div",{staticClass:"userMove"},[e("div",{staticClass:"useravatar"},[t._v("用户头像")]),e("div",{staticClass:"userAbout"},[e("div",{staticClass:"username"},[t._v(t._s(t.username))]),e("div",{staticClass:"userrelease"},[t._v(t._s(t.userrelease))])])]),e("div",{staticClass:"satisfaction"},[t._v(" 满意度 "),e("van-rate",{attrs:{size:"0.64rem",color:"#EC7818","void-icon":"star","void-color":"#eee",readonly:!0},model:{value:t.value,callback:function(s){t.value=s},expression:"value"}})],1),e("div",{staticClass:"satisfaction"},t._l(t.shopList,(function(s){return e("span",{key:s._id},[t._v(t._s(s.food_name))])})),0),""!==t.userEvaluation?e("div",{staticClass:"comment"},[t._v(t._s(t.userEvaluation))]):e("div",{staticClass:"comment"},[t._v("用户未评价")]),!1===t.classGood?e("div",{staticClass:"nogood",on:{click:t.isGood}},[e("van-icon",{attrs:{name:"good-job"}})],1):e("div",{staticClass:"good"},[e("van-icon",{attrs:{name:"good-job"},on:{click:t.isGood}})],1)])},Ft=[],Nt={props:{count:{default:4},useravatar:{},username:{},userEvaluation:{},userrelease:{},shopList:{}},data(){return{value:0,classGood:!1}},methods:{isGood(){this.classGood?this.classGood=!1:this.classGood=!0}},watch:{count(){this.value=this.count}},created(){this.value=this.count}},Dt=Nt,Pt=(0,c.Z)(Dt,Bt,Ft,!1,null,"d9b007a8",null),jt=Pt.exports,Mt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"checkedFoodsContainer"},[e("div",{staticClass:"foodImg"},[e("img",{attrs:{src:"http://elm.cangdu.org/img/"+t.foodsImg,alt:"暂无图片"}})]),e("div",{staticClass:"foodAbout"},[e("div",{staticClass:"foodTitle"},[t._v(t._s(t.title))]),e("div",{staticClass:"price"},[t._v("￥"+t._s(t.price))]),e("div",{staticClass:"count"},[t._v(t._s(t.count))])])])},Gt=[],zt={props:{foodsImg:{},price:{default:0},title:{},count:{default:0}}},Ht=zt,Rt=(0,c.Z)(Ht,Mt,Gt,!1,null,"c276df10",null),Vt=Rt.exports,Ut=new a.Z;const Wt=function(t){return g({method:"get",url:"/shopping/v2/menu",params:{restaurant_id:t}})};var Yt=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"foodsContainer"},[a("div",{staticClass:"head"},[t._v(" "+t._s(t.foodList.description)+" ")]),t._l(t.foodList.foods,(function(s){return a("div",{key:s.id,staticClass:"food"},[a("div",{staticClass:"foodImg"},[s.image_path?a("img",{attrs:{src:"http://elm.cangdu.org/img/"+s.image_path,alt:""}}):a("img",{attrs:{src:e(6699),alt:""}})]),a("div",{staticClass:"foodAbout"},[a("div",{staticClass:"foodname"},[t._v(t._s(s.specfoods[0].name))]),a("div",{staticClass:"foodtitle"},[t._v("评分"+t._s(s.specfoods[0].recent_rating))]),a("div",{staticClass:"sellNum"},[t._v(t._s(s.tips))]),a("div",{staticClass:"money"},[t._v(t._s(s.specfoods[0].price)+"￥")]),a("BtnCount",{attrs:{num:s.__v,foodId:s._id}})],1)])}))],2)},qt=[],Jt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"btnContainer"},[e("span",{on:{click:t.lowerCount}},[e("van-icon",{attrs:{name:"minus"}})],1),e("span",[t._v(t._s(t.num))]),e("span",{on:{click:t.addCount}},[e("van-icon",{attrs:{name:"plus"}})],1)])},Kt=[],Qt={props:{num:{default:0},foodId:{}},methods:{addCount(){Ut.$emit("addCount",[1,this.foodId])},lowerCount(){this.num>0&&Ut.$emit("addCount",[-1,this.foodId])}}},Xt=Qt,ts=(0,c.Z)(Xt,Jt,Kt,!1,null,"29e83436",null),ss=ts.exports,es={name:"foodList",components:{BtnCount:ss},props:{foodList:{}},data(){return{value:0}}},as=es,is=(0,c.Z)(as,Yt,qt,!1,null,"2fd31b6c",null),os=is.exports,ns={components:{Foods:os,CheckedFood:Vt,ShopCommemt:jt},data(){return{stopClassification:[],initshop:{},sunMoney:0,flag:!0,shopCount:0,active:0,show:!1,checkedFoods:[],obtainClass:!0,showNav:!0,shoppingComment:[],obtainTop:533,obtainState:!0}},computed:{...(0,v.rn)(["shop"])},mounted(){window.addEventListener("scroll",this.handleScrollx,!0)},methods:{handleScrollx(){window.pageYOffset>=this.obtainTop?this.obtainClass=!1:this.obtainClass=!0},onClick(t,s){console.log(t,s),this.showNav=0===t},backBtn(){this.$router.push("/")},async getShopInterfaceList(){const t=await Wt(this.shop.id);t.data.some(((t,s)=>{if(!(s<=6))return!0;this.stopClassification.push(t)})),this.initshop=this.stopClassification[0],this.stopClassification[0].spanStyle="spanStyle"},targetBtn(t,s){this.initshop=this.stopClassification[t],this.stopClassification.some((t=>{t.spanStyle=""})),this.stopClassification[t].spanStyle="spanStyle"},showAction(){this.show=!0},async getShoppingComment(){const t=await Ot(this.shop.id);this.shoppingComment=t.data}},created(){this.getShopInterfaceList(),this.getShoppingComment()},updated(){Ut.$on("addCount",(t=>{this.flag&&(this.flag=!1,this.initshop.foods.some((s=>{if(t[0]>0){if(s._id===t[1]){if(s.__v+=t[0],this.sunMoney+=s.specfoods[0].price,this.shopCount++,0===this.checkedFoods.length)this.checkedFoods.push(s);else{for(const t in this.checkedFoods)this.checkedFoods[t]._id===s._id&&this.checkedFoods.splice(t,1);this.checkedFoods.push(s)}return!0}}else if(s._id===t[1]){if(s.__v>0){s.__v+=t[0],this.sunMoney-=s.specfoods[0].price,this.shopCount--;for(const t in this.checkedFoods)this.checkedFoods[t]._id===s._id&&this.checkedFoods.splice(t,1);0!==s.__v&&this.checkedFoods.push(s)}return!0}})))})),this.obtainState&&(this.obtainTop=this.$refs.obtain.getBoundingClientRect().top,this.obtainState=!1),this.flag=!0}},rs=ns,cs=(0,c.Z)(rs,Tt,Zt,!1,null,"c5df5620",null),ds=cs.exports;a.Z.use(u.Z);const ls=[{path:"/",component:H},{path:"/user",component:q},{path:"/cart",component:ct},{path:"/submit",component:ft},{path:"/submitarea",component:wt},{path:"/positioncity",component:It},{path:"/shopinterface",component:ds}],us=new u.Z({routes:ls});var hs=us;a.Z.use(v.ZP);var ps=new v.ZP.Store({state:{addressDetails:{},detailedAddress:null,shop:null,shoppingCart:[],flag:!0,historySubmit:[]},getters:{},mutations:{newAddress(t,s){t.addressDetails=s},getdetailedAddress(t,s){t.detailedAddress=s},getshopid(t,s){t.shop=s},getshoppingCart(t,s){t.shoppingCart.length>0?(t.shoppingCart.some((e=>{if(s._id===e._id)return e.count=s.count,t.flag=!1,!0})),t.flag&&t.shoppingCart.push(s)):t.shoppingCart.push(s),t.flag=!0},gethistorySubmit(t,s){t.historySubmit.push(s)},clearhistorySubmit(t){t.historySubmit=[]}},actions:{},modules:{}}),vs=e(1890);e(415),e(8185);a.Z.use(vs.ZP),a.Z.config.productionTip=!1,new a.Z({router:hs,store:ps,render:t=>t(l)}).$mount("#app")},8185:function(){(function(t,s){const e=s.documentElement,a=t.devicePixelRatio||1;function i(){s.body?s.body.style.fontSize=12*a+"px":s.addEventListener("DOMContentLoaded",i)}function o(){const t=e.clientWidth/20;e.style.fontSize=t+"px"}if(i(),o(),t.addEventListener("resize",o),t.addEventListener("pageshow",(function(t){t.persisted&&o()})),a>=2){const t=s.createElement("body"),a=s.createElement("div");a.style.border=".5px solid transparent",t.appendChild(a),e.appendChild(t),1===a.offsetHeight&&e.classList.add("hairlines"),e.removeChild(t)}})(window,document)},6699:function(t,s,e){"use strict";t.exports=e.p+"img/noImg.83b35d59.jpg"}},s={};function e(a){var i=s[a];if(void 0!==i)return i.exports;var o=s[a]={exports:{}};return t[a](o,o.exports,e),o.exports}e.m=t,function(){var t=[];e.O=function(s,a,i,o){if(!a){var n=1/0;for(l=0;l<t.length;l++){a=t[l][0],i=t[l][1],o=t[l][2];for(var r=!0,c=0;c<a.length;c++)(!1&o||n>=o)&&Object.keys(e.O).every((function(t){return e.O[t](a[c])}))?a.splice(c--,1):(r=!1,o<n&&(n=o));if(r){t.splice(l--,1);var d=i();void 0!==d&&(s=d)}}return s}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[a,i,o]}}(),function(){e.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(s,{a:s}),s}}(),function(){e.d=function(t,s){for(var a in s)e.o(s,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:s[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){e.p=""}(),function(){var t={143:0};e.O.j=function(s){return 0===t[s]};var s=function(s,a){var i,o,n=a[0],r=a[1],c=a[2],d=0;if(n.some((function(s){return 0!==t[s]}))){for(i in r)e.o(r,i)&&(e.m[i]=r[i]);if(c)var l=c(e)}for(s&&s(a);d<n.length;d++)o=n[d],e.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return e.O(l)},a=self["webpackChunkdome_takeout"]=self["webpackChunkdome_takeout"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=e.O(void 0,[998],(function(){return e(3446)}));a=e.O(a)})();
//# sourceMappingURL=app.64992ead.js.map