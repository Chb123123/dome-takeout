(function(){var t={2952:function(t,e,s){"use strict";var a=s(8935),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("router-view")],1)},i=[],r={},o=r,d=s(1001),c=(0,d.Z)(o,n,i,!1,null,null,null),l=c.exports,u=s(2809),v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"AppContainer"},[s("div",{staticClass:"Apphead"},[s("div",{staticClass:"address",on:{click:t.gotoSubmit}},[t._v(t._s(t.address.name)+" "),s("span",{staticClass:"move"})]),s("div",{staticClass:"shopping-cart"},[s("van-icon",{attrs:{name:"cart-o"}})],1),s("div",{staticClass:"Private-letter"},[s("van-icon",{attrs:{name:"comment-o"}})],1)]),s("div",{staticClass:"submitBox"},[s("div",{staticClass:"submit"},[s("div",{staticClass:"submitBtn"},[t._v("搜索")]),s("div",{staticClass:"photograph"},[s("van-icon",{attrs:{name:"photograph"}})],1),s("div",{staticClass:"submitSuggest"},[t._v("派乐炸鸡汉堡")])])]),s("div",{staticClass:"navbar"},[s("Navber",{attrs:{navList:t.shopNavList}})],1),t._m(0),s("div",{staticClass:"takewayBox"},[s("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.shopList,(function(t){return s("Takeaway",{key:t.id,attrs:{takeawayImg:t.image_path,takeawayTitle:t.name,score:t.rating,deliveryTime:t.order_lead_time,distance:t.distance,discount:t.supports}})})),1),s("Tabbar")],1)])},p=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Attributes"},[s("span",[t._v("智能排序")]),s("span",[t._v("配送速度")]),s("span",[t._v("距离最近")]),s("span",[t._v("销量最高")])])}],m=s(4665),f=s(6166),h=s.n(f);const _=h().create({baseURL:"https://elm.cangdu.org"});var b=_;const g=function(){return b({method:"get",url:"/v2/index_entry"})},y=function(t=0){return b({method:"get",url:"/shopping/restaurants",params:{latitude:"27.113819",longitude:"114.993759",offset:t}})};var C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"takewayContainer"},[s("div",{staticClass:"takeawayImg"},[s("img",{attrs:{src:"http://elm.cangdu.org/img/"+t.takeawayImg,alt:""}})]),s("div",{staticClass:"takeawayAbout"},[s("div",{staticClass:"takeawaytitle"},[t._v(t._s(t.takeawayTitle)+" ")]),s("div",{staticClass:"takeawayFraction"},[t._v(t._s(t.score)+"分 "),s("div",{staticClass:"delivery"},[t._v(t._s(t.distance)+" "+t._s(t.deliveryTime))])]),s("div",{staticClass:"delivery"},[t._v("起送￥15")]),t._m(0),s("div",{staticClass:"discount"},[t.discount[0]?s("div",{staticClass:"support",style:"color:#"+t.discount[0].icon_color},[t._v(t._s(t.discount[0].name))]):t._e(),t.discount[1]?s("div",{staticClass:"support",style:"color:#"+t.discount[1].icon_color},[t._v(t._s(t.discount[1].name))]):t._e(),t.discount[2]?s("div",{staticClass:"support",style:"color:#"+t.discount[2].icon_color},[t._v(t._s(t.discount[2].name))]):t._e()])])])},w=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Evaluation"},[s("div",{staticClass:"Evaluation1"},[t._v("热情掌柜")])])}],k={props:{takeawayTitle:{},takeawayImg:{},score:{},deliveryTime:{},distance:{},discount:{}}},x=k,L=(0,d.Z)(x,C,w,!1,null,"31601814",null),A=L.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("van-swipe",{staticClass:"my-swipe",attrs:{"indicator-color":"white"}},t._l(t.navList,(function(e){return s("van-swipe-item",{key:e.id},[s("div",{staticClass:"navbarContainer"},t._l(e,(function(e){return s("div",{key:e.id,staticClass:"nav",on:{click:function(s){return t.getNavId(e.id)}}},[s("img",{attrs:{src:"https://fuss10.elemecdn.com"+e.image_url,alt:""}}),s("span",{staticClass:"navtitle"},[t._v(t._s(e.title))])])})),0)])})),1)],1)},T=[],$={props:{navList:{}},methods:{getNavId(t){console.log(t)}}},Z=$,O=(0,d.Z)(Z,E,T,!1,null,"c7ab2da6",null),N=O.exports;const S=function(){return b({method:"get",url:"/v1/cities",params:{type:"guess"}})};var I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-tabbar",{attrs:{route:"",fixed:"","z-index":"9999"}},[s("van-tabbar-item",{attrs:{icon:"home-o",to:"/"}},[t._v("首页")]),s("van-tabbar-item",{attrs:{icon:"search",dot:"",to:"/submit"}},[t._v("搜索")]),s("van-tabbar-item",{attrs:{icon:"cart-o",badge:"5",to:"/cart"}},[t._v("订单")]),s("van-tabbar-item",{attrs:{icon:"friends-o",to:"/user"}},[t._v("用户")])],1)},P=[],D={name:"tabbarStyle"},j=D,B=(0,d.Z)(j,I,P,!1,null,null,null),z=B.exports,F={components:{Takeaway:A,Tabbar:z,Navber:N},data(){return{address:"",shopList:[],loading:!0,finished:!1,num:0,shopNavList:[]}},methods:{...(0,m.OI)(["newAddress"]),async getTakeawayAbout(){const t=await y();this.shopList=t.data,this.loading=!1},async onLoad(){this.num+=20;const t=await y(this.num);this.shopList=[...this.shopList,...t.data],this.loading=!1},async ShopNavBar(){const t=await g();let e=[];t.data.forEach(((t,s)=>{e.push(t),(s+1)%8===0&&(this.shopNavList.push(e),e=[])}))},async getNewCity(){const t=await S();this.address=t.data,this.newAddress(this.address)},gotoSubmit(){this.$router.push("/submitarea")}},created(){this.getNewCity(),this.getTakeawayAbout(),this.ShopNavBar()}},M=F,R=(0,d.Z)(M,v,p,!1,null,"525edafc",null),H=R.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v("未登入")]),s("Tabbar")],1)},W=[],q={components:{Tabbar:z}},G=q,J=(0,d.Z)(G,U,W,!1,null,null,null),K=J.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v("订单模块")]),s("Tabbar")],1)},V=[],X={components:{Tabbar:z}},Y=X,tt=(0,d.Z)(Y,Q,V,!1,null,null,null),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v("搜索组件")]),s("Tabbar")],1)},at=[],nt={components:{Tabbar:z}},it=nt,rt=(0,d.Z)(it,st,at,!1,null,null,null),ot=rt.exports,dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"addressContainer"},[s("van-nav-bar",{attrs:{title:"选择收货地址","left-text":"返回","left-arrow":"",fixed:""},on:{"click-left":t.onClickLeft}}),s("div",{staticClass:"submitAddress"},[s("div",{staticClass:"submit"},[s("div",{staticClass:"address",on:{click:function(e){return e.stopPropagation(),t.renewAddress.apply(null,arguments)}}},[t._v(t._s(t.$store.state.addressDetails.name)),s("span",{staticClass:"move"})]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"inputAddress",attrs:{type:"text",name:"",id:"",placeholder:"输入你的收货地址"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}})])]),t.addressList.length>0?s("div",{staticClass:"recommendlist"},t._l(t.addressList,(function(e){return s("div",{key:e.id,staticClass:"recommend",on:{click:function(s){return t.getDetailedAddress(e)}}},[s("span",{staticClass:"title"},[t._v(t._s(e.name))]),s("span",{staticClass:"detailedAddress"},[t._v(t._s(e.address))])])})),0):t._e()],1)},ct=[];const lt=function(t,e){return b({method:"get",url:"/v1/pois",params:{city_id:t,keyword:e,type:"search"}})};var ut={data(){return{address:"",flag:null,addressList:[]}},computed:{...(0,m.rn)(["addressDetails"])},methods:{...(0,m.OI)(["newAddress","getdetailedAddress"]),onClickLeft(){this.$router.back(-1)},renewAddress(){this.$router.push("/positioncity")},getDetailedAddress(t){console.log(t),this.getdetailedAddress(t)}},watch:{address(){this.flag&&clearTimeout(this.flag),this.flag=setTimeout((async()=>{const t=await lt(this.$store.state.addressDetails.id,this.address);console.log(t),this.addressList=t.data}),500)}}},vt=ut,pt=(0,d.Z)(vt,dt,ct,!1,null,"dece9b6c",null),mt=pt.exports,ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"positionCityContainer"},[s("van-nav-bar",{attrs:{title:"选择城市","left-arrow":"",fixed:""},on:{"click-left":t.onClickLeft}}),t._l(t.cityList,(function(e,a){return s("a",{key:a,staticClass:"relatedAdress",attrs:{href:"#"+a}},[t._v(" "+t._s(a)+" "),t._l(e,(function(e){return s("a",{key:e.id,staticClass:"address",attrs:{href:"javascript:;"},on:{click:function(s){return t.addressBtn(e)}}},[t._v(t._s(e.name))])}))],2)})),t._m(0)],2)},ht=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"position"},[s("span",{attrs:{id:"A"}},[t._v("S")])])}];const _t=function(){return b({method:"get",url:"/v1/cities",params:{type:"group"}})};var bt={data(){return{cityList:{}}},methods:{...(0,m.OI)(["newAddress"]),onClickLeft(){this.$router.back(-1)},async positionCity(){const t=await _t();console.log(t),this.cityList=t.data},addressBtn(t){console.log(t),this.newAddress(t),this.$router.back(-1)}},created(){this.positionCity()}},gt=bt,yt=(0,d.Z)(gt,ft,ht,!1,null,"a8fa6d46",null),Ct=yt.exports;a.Z.use(u.Z);const wt=[{path:"/",component:H},{path:"/user",component:K},{path:"/cart",component:et},{path:"/submit",component:ot},{path:"/submitarea",component:mt},{path:"/positioncity",component:Ct}],kt=new u.Z({mode:"history",base:"",routes:wt});var xt=kt;a.Z.use(m.ZP);var Lt=new m.ZP.Store({state:{addressDetails:{},detailedAddress:{}},getters:{},mutations:{newAddress(t,e){t.addressDetails=e},getdetailedAddress(t,e){t.detailedAddress=e}},actions:{},modules:{}}),At=s(2576);s(415),s(8185);a.Z.use(At.ZP),a.Z.config.productionTip=!1,new a.Z({router:xt,store:Lt,render:t=>t(l)}).$mount("#app")},8185:function(){(function(t,e){const s=e.documentElement,a=t.devicePixelRatio||1;function n(){e.body?e.body.style.fontSize=12*a+"px":e.addEventListener("DOMContentLoaded",n)}function i(){const t=s.clientWidth/20;s.style.fontSize=t+"px"}if(n(),i(),t.addEventListener("resize",i),t.addEventListener("pageshow",(function(t){t.persisted&&i()})),a>=2){const t=e.createElement("body"),a=e.createElement("div");a.style.border=".5px solid transparent",t.appendChild(a),s.appendChild(t),1===a.offsetHeight&&s.classList.add("hairlines"),s.removeChild(t)}})(window,document)}},e={};function s(a){var n=e[a];if(void 0!==n)return n.exports;var i=e[a]={exports:{}};return t[a](i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,a,n,i){if(!a){var r=1/0;for(l=0;l<t.length;l++){a=t[l][0],n=t[l][1],i=t[l][2];for(var o=!0,d=0;d<a.length;d++)(!1&i||r>=i)&&Object.keys(s.O).every((function(t){return s.O[t](a[d])}))?a.splice(d--,1):(o=!1,i<r&&(r=i));if(o){t.splice(l--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[a,n,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,i,r=a[0],o=a[1],d=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(d)var l=d(s)}for(e&&e(a);c<r.length;c++)i=r[c],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(l)},a=self["webpackChunkdome_takeout"]=self["webpackChunkdome_takeout"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(2952)}));a=s.O(a)})();
//# sourceMappingURL=app.c27ab69e.js.map