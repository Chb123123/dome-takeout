(function(){var t={9068:function(t,e,a){"use strict";var n=a(8935),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},i=[],o={},r=o,c=a(1001),l=(0,c.Z)(r,s,i,!1,null,null,null),u=l.exports,d=a(2809),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AppContainer"},[a("div",{staticClass:"Apphead"},[a("div",{staticClass:"address",on:{click:t.gotoSubmit}},[t._v(t._s(t.address.name)+" "),a("span",{staticClass:"move"})]),a("div",{staticClass:"shopping-cart"},[a("van-icon",{attrs:{name:"cart-o"}})],1),a("div",{staticClass:"Private-letter"},[a("van-icon",{attrs:{name:"comment-o"}})],1)]),a("div",{staticClass:"submitBox"},[a("div",{staticClass:"submit"},[a("div",{staticClass:"submitBtn"},[t._v("搜索")]),a("div",{staticClass:"photograph"},[a("van-icon",{attrs:{name:"photograph"}})],1),a("div",{staticClass:"submitSuggest"},[t._v("派乐炸鸡汉堡")])])]),a("div",{staticClass:"navbar"},[a("Navber",{attrs:{navList:t.shopNavList}})],1),t._m(0),a("div",{staticClass:"takewayBox"},[a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.shopList,(function(t){return a("Takeaway",{key:t.id,attrs:{takeawayImg:t.image_path,takeawayTitle:t.name,score:t.rating,deliveryTime:t.order_lead_time,distance:t.distance,discount:t.supports}})})),1),a("Tabbar")],1)])},p=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Attributes"},[a("span",[t._v("智能排序")]),a("span",[t._v("配送速度")]),a("span",[t._v("距离最近")]),a("span",[t._v("销量最高")])])}],f=a(6166),m=a.n(f);const h=m().create({baseURL:"https://elm.cangdu.org"});var _=h;const b=function(){return _({method:"get",url:"/v2/index_entry"})},g=function(t=0){return _({method:"get",url:"/shopping/restaurants",params:{latitude:"27.113819",longitude:"114.993759",offset:t}})};var y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"takewayContainer"},[a("div",{staticClass:"takeawayImg"},[a("img",{attrs:{src:"http://elm.cangdu.org/img/"+t.takeawayImg,alt:""}})]),a("div",{staticClass:"takeawayAbout"},[a("div",{staticClass:"takeawaytitle"},[t._v(t._s(t.takeawayTitle)+" ")]),a("div",{staticClass:"takeawayFraction"},[t._v(t._s(t.score)+"分 "),a("div",{staticClass:"delivery"},[t._v(t._s(t.distance)+" "+t._s(t.deliveryTime))])]),a("div",{staticClass:"delivery"},[t._v("起送￥15")]),t._m(0),a("div",{staticClass:"discount"},[t.discount[0]?a("div",{staticClass:"support",style:"color:#"+t.discount[0].icon_color},[t._v(t._s(t.discount[0].name))]):t._e(),t.discount[1]?a("div",{staticClass:"support",style:"color:#"+t.discount[1].icon_color},[t._v(t._s(t.discount[1].name))]):t._e(),t.discount[2]?a("div",{staticClass:"support",style:"color:#"+t.discount[2].icon_color},[t._v(t._s(t.discount[2].name))]):t._e()])])])},C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Evaluation"},[a("div",{staticClass:"Evaluation1"},[t._v("热情掌柜")])])}],w={props:{takeawayTitle:{},takeawayImg:{},score:{},deliveryTime:{},distance:{},discount:{}}},k=w,x=(0,c.Z)(k,y,C,!1,null,"31601814",null),E=x.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("van-swipe",{staticClass:"my-swipe",attrs:{"indicator-color":"white"}},t._l(t.navList,(function(e){return a("van-swipe-item",{key:e.id},[a("div",{staticClass:"navbarContainer"},t._l(e,(function(e){return a("div",{key:e.id,staticClass:"nav",on:{click:function(a){return t.getNavId(e.id)}}},[a("img",{attrs:{src:"https://fuss10.elemecdn.com"+e.image_url,alt:""}}),a("span",{staticClass:"navtitle"},[t._v(t._s(e.title))])])})),0)])})),1)],1)},T=[],Z={props:{navList:{}},methods:{getNavId(t){console.log(t)}}},$=Z,O=(0,c.Z)($,L,T,!1,null,"c7ab2da6",null),N=O.exports;const S=function(){return _({method:"get",url:"/v1/cities",params:{type:"guess"}})};var P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-tabbar",{attrs:{route:"",fixed:"","z-index":"9999"}},[a("van-tabbar-item",{attrs:{icon:"home-o",to:"/"}},[t._v("首页")]),a("van-tabbar-item",{attrs:{icon:"search",dot:"",to:"/submit"}},[t._v("搜索")]),a("van-tabbar-item",{attrs:{icon:"cart-o",badge:"5",to:"/cart"}},[t._v("订单")]),a("van-tabbar-item",{attrs:{icon:"friends-o",to:"/user"}},[t._v("用户")])],1)},j=[],A={name:"tabbarStyle"},I=A,B=(0,c.Z)(I,P,j,!1,null,null,null),z=B.exports,F={components:{Takeaway:E,Tabbar:z,Navber:N},data(){return{address:"",shopList:[],loading:!0,finished:!1,num:0,shopNavList:[]}},methods:{async getTakeawayAbout(){const t=await g();this.shopList=t.data,this.loading=!1},async onLoad(){this.num+=20;const t=await g(this.num);this.shopList=[...this.shopList,...t.data],this.loading=!1},async ShopNavBar(){const t=await b();let e=[];t.data.forEach(((t,a)=>{e.push(t),(a+1)%8===0&&(this.shopNavList.push(e),e=[])}))},async getNewCity(){const t=await S();this.address=t.data},gotoSubmit(){this.$router.push("/submitarea")}},created(){this.getNewCity(),this.getTakeawayAbout(),this.ShopNavBar()}},M=F,R=(0,c.Z)(M,v,p,!1,null,"12a40fbb",null),D=R.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("未登入")]),a("Tabbar")],1)},U=[],W={components:{Tabbar:z}},q=W,G=(0,c.Z)(q,H,U,!1,null,null,null),J=G.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("订单模块")]),a("Tabbar")],1)},Q=[],V={components:{Tabbar:z}},X=V,Y=(0,c.Z)(X,K,Q,!1,null,null,null),tt=Y.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("搜索组件")]),a("Tabbar")],1)},at=[],nt={components:{Tabbar:z}},st=nt,it=(0,c.Z)(st,et,at,!1,null,null,null),ot=it.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{attrs:{title:"选择收货地址","left-text":"返回","left-arrow":"",fixed:""},on:{"click-left":t.onClickLeft}})],1)},ct=[],lt={methods:{onClickLeft(){this.$router.back(-1)}}},ut=lt,dt=(0,c.Z)(ut,rt,ct,!1,null,null,null),vt=dt.exports;n.Z.use(d.Z);const pt=[{path:"/",component:D},{path:"/user",component:J},{path:"/cart",component:tt},{path:"/submit",component:ot},{path:"/submitarea",component:vt}],ft=new d.Z({mode:"history",base:"",routes:pt});var mt=ft,ht=a(4665);n.Z.use(ht.ZP);var _t=new ht.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),bt=a(2576);a(415),a(8185);n.Z.use(bt.ZP),n.Z.config.productionTip=!1,new n.Z({router:mt,store:_t,render:t=>t(u)}).$mount("#app")},8185:function(){(function(t,e){const a=e.documentElement,n=t.devicePixelRatio||1;function s(){e.body?e.body.style.fontSize=12*n+"px":e.addEventListener("DOMContentLoaded",s)}function i(){const t=a.clientWidth/20;a.style.fontSize=t+"px"}if(s(),i(),t.addEventListener("resize",i),t.addEventListener("pageshow",(function(t){t.persisted&&i()})),n>=2){const t=e.createElement("body"),n=e.createElement("div");n.style.border=".5px solid transparent",t.appendChild(n),a.appendChild(t),1===n.offsetHeight&&a.classList.add("hairlines"),a.removeChild(t)}})(window,document)}},e={};function a(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,n,s,i){if(!n){var o=1/0;for(u=0;u<t.length;u++){n=t[u][0],s=t[u][1],i=t[u][2];for(var r=!0,c=0;c<n.length;c++)(!1&i||o>=i)&&Object.keys(a.O).every((function(t){return a.O[t](n[c])}))?n.splice(c--,1):(r=!1,i<o&&(o=i));if(r){t.splice(u--,1);var l=s();void 0!==l&&(e=l)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,s,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,i,o=n[0],r=n[1],c=n[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(s in r)a.o(r,s)&&(a.m[s]=r[s]);if(c)var u=c(a)}for(e&&e(n);l<o.length;l++)i=o[l],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(u)},n=self["webpackChunkdome_takeout"]=self["webpackChunkdome_takeout"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(9068)}));n=a.O(n)})();
//# sourceMappingURL=app.13207685.js.map